<!-- Component: Schedules Tab -->
<div class="flex-1 flex flex-col overflow-hidden h-full">

    <!-- Top Toolbar (Filters & Actions) -->
    <header class="bg-primary-dark/80 backdrop-blur-md border-b border-white/10 p-4 shrink-0 z-20">
        <div class="max-w-[1600px] mx-auto flex flex-col xl:flex-row gap-6 items-center justify-between">

            <!-- Left: Navigation & Filters -->
            <div class="flex flex-wrap items-center gap-4">
                <div class="flex items-center gap-3 bg-black/40 p-1 rounded-xl border border-white/5">
                    <div class="px-3">
                        <p class="text-[9px] text-gold font-black uppercase tracking-widest">Periodo Académico</p>
                        <h3 class="text-xs font-bold text-white uppercase tracking-tight" id="schedule-period-title">
                            Cargando...</h3>
                    </div>
                    <div class="h-8 w-px bg-white/10 mx-2"></div>

                    <!-- Month Filter -->
                    <select id="schedule-month-filter"
                        class="bg-transparent border-none text-xs font-bold text-white outline-none cursor-pointer hover:text-gold transition-colors pr-8">
                        <option value="all">Ver Todos los Meses</option>
                        <option value="1">Enero</option>
                        <option value="2">Febrero</option>
                        <option value="3">Marzo</option>
                        <option value="4">Abril</option>
                        <option value="5">Mayo</option>
                        <option value="6">Junio</option>
                        <option value="7">Julio</option>
                        <option value="8">Agosto</option>
                        <option value="9">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                </div>

                <!-- Year Selectors (Clean Radio chips) -->
                <div class="flex items-center gap-2 bg-black/20 p-1 rounded-xl border border-white/5">
                    <label class="cursor-pointer">
                        <input type="radio" name="year_filter" data-year="1" class="schedule-year-filter peer hidden"
                            checked>
                        <div
                            class="px-4 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest text-white/40 peer-checked:bg-gold peer-checked:text-primary-dark transition-all">
                            1ero</div>
                    </label>
                    <label class="cursor-pointer">
                        <input type="radio" name="year_filter" data-year="2" class="schedule-year-filter peer hidden">
                        <div
                            class="px-4 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest text-white/40 peer-checked:bg-gold peer-checked:text-primary-dark transition-all">
                            2do</div>
                    </label>
                    <label class="cursor-pointer">
                        <input type="radio" name="year_filter" data-year="3" class="schedule-year-filter peer hidden">
                        <div
                            class="px-4 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest text-white/40 peer-checked:bg-gold peer-checked:text-primary-dark transition-all">
                            3ero</div>
                    </label>
                </div>
            </div>

            <!-- Right: Status and Primary Actions -->
            <div class="flex items-center gap-6 w-full xl:w-auto justify-between xl:justify-end">
                <!-- Legend -->
                <div class="hidden sm:flex items-center gap-3">
                    <div class="flex items-center gap-2">
                        <div class="size-2 rounded-full bg-orange-500 shadow-[0_0_10px_rgba(249,115,22,0.4)]"></div>
                        <span class="text-[9px] font-bold text-white/60 uppercase tracking-widest">Pendiente
                            Docente</span>
                    </div>
                </div>

                <div class="flex items-center gap-3">
                    <button id="btn-print-schedule"
                        class="p-2.5 text-white/60 hover:text-gold hover:bg-white/5 rounded-xl transition-all"
                        title="Imprimir Horario">
                        <span class="material-symbols-outlined">print</span>
                    </button>
                    <button id="btn-new-class"
                        class="flex items-center gap-2 px-6 py-2.5 bg-gold text-primary-dark rounded-xl text-xs font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-xl shadow-gold/20">
                        <span class="material-symbols-outlined">add_circle</span>
                        Nueva Clase
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Calendar Area -->
    <div class="flex-1 overflow-hidden flex relative">

        <div class="flex-1 flex flex-col overflow-hidden bg-card-dark/30">
            <!-- Grid Header -->
            <div
                class="grid grid-cols-8 border-b border-white/10 text-center bg-primary-dark/80 backdrop-blur-sm sticky top-0 z-10 transition-all">
                <div
                    class="py-4 text-[10px] font-black text-white/20 uppercase tracking-[0.2em] border-r border-white/5">
                    Hora</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Lun</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Mar</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Mié</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Jue</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Vie</div>
                <div
                    class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em] border-r border-white/5">
                    Sáb</div>
                <div class="py-4 text-[10px] font-black text-white/60 uppercase tracking-[0.2em]">Dom</div>
            </div>

            <!-- Scrollable Body -->
            <div class="flex-1 overflow-y-auto custom-scrollbar relative">
                <div class="grid grid-cols-8 relative min-h-[1000px]">
                    <!-- Time Column -->
                    <div class="border-r border-white/10 bg-black/10 sticky left-0 z-10 w-full h-full">
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            07:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            08:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            09:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            10:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            11:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            12:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            13:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            14:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            15:00</div>
                        <div
                            class="h-24 border-b border-white/5 flex items-start justify-center pt-2 text-[10px] font-bold text-white/20">
                            16:00</div>
                    </div>

                    <!-- Day Columns -->
                    <div id="schedule-day-1"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-2"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-3"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-4"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-5"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-6"
                        class="border-r border-white/5 relative p-1 transition-colors hover:bg-white/5"></div>
                    <div id="schedule-day-7" class="relative p-1 transition-colors hover:bg-white/5"></div>
                </div>

                <!-- Loading Overlay -->
                <div id="schedules-loading"
                    class="absolute inset-0 bg-primary-dark/60 backdrop-blur-sm items-center justify-center z-20 hidden">
                    <div class="flex flex-col items-center gap-4">
                        <div class="size-12 border-4 border-gold/20 border-t-gold rounded-full animate-spin"></div>
                        <p class="text-[10px] font-black text-gold uppercase tracking-widest">Actualizando Horario...
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide-over Editor Sidebar -->
        <aside id="schedule-editor"
            class="absolute right-0 inset-y-0 w-[400px] bg-primary-dark/95 backdrop-blur-xl border-l border-white/10 flex flex-col z-40 transform translate-x-full transition-transform duration-500 shadow-[-20px_0_50px_rgba(0,0,0,0.5)]">

            <!-- Editor Header -->
            <div class="p-6 border-b border-white/10 flex items-center justify-between">
                <div>
                    <h3 class="text-lg font-black text-gold uppercase tracking-tighter" id="editor-title">Editor de
                        Clase</h3>
                    <p class="text-[10px] text-white/40 font-bold uppercase tracking-widest" id="editor-mode-text">Nueva
                        Asignación</p>
                </div>
                <button id="btn-close-editor"
                    class="size-10 flex items-center justify-center hover:bg-white/5 rounded-full text-white/50 hover:text-white transition-all">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>

            <!-- Editor Content -->
            <div class="flex-1 overflow-y-auto p-8 custom-scrollbar">
                <form id="schedule-form" class="space-y-8">
                    <input type="hidden" id="schedule-id" name="id">

                    <div class="space-y-6">
                        <!-- Carga & Mes -->
                        <div class="grid grid-cols-1 gap-6">
                            <div class="space-y-2">
                                <label
                                    class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Asignatura
                                    Académica</label>
                                <select id="schedule-carga" name="carga_id" required
                                    class="w-full bg-black/40 border border-white/10 rounded-2xl px-5 py-4 text-sm text-white focus:border-gold outline-none transition-all shadow-inner">
                                    <option value="">Seleccionar materia...</option>
                                </select>
                            </div>

                            <div class="space-y-2">
                                <label class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Mes
                                    de Ejecución</label>
                                <select id="schedule-month" name="mes" required
                                    class="w-full bg-black/40 border border-white/10 rounded-2xl px-5 py-4 text-sm text-white focus:border-gold outline-none transition-all shadow-inner">
                                    <option value="1">Enero</option>
                                    <option value="2">Febrero</option>
                                    <option value="3">Marzo</option>
                                    <option value="4">Abril</option>
                                    <option value="5">Mayo</option>
                                    <option value="6">Junio</option>
                                    <option value="7">Julio</option>
                                    <option value="8">Agosto</option>
                                    <option value="9">Septiembre</option>
                                    <option value="10">Octubre</option>
                                    <option value="11">Noviembre</option>
                                    <option value="12">Diciembre</option>
                                </select>
                            </div>
                        </div>

                        <!-- Info Read Only (Professor) -->
                        <div class="p-4 rounded-2xl bg-white/5 border border-white/5 border-dashed">
                            <label
                                class="text-[9px] font-black text-gold/60 uppercase tracking-widest mb-1 block">Docente
                                Asignado</label>
                            <div class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-gold/40">person</span>
                                <input type="text" id="teacher-designed" readonly placeholder="Materia sin docente..."
                                    class="bg-transparent border-none text-xs text-white p-0 outline-none w-full font-bold">
                            </div>
                        </div>

                        <!-- Week Day -->
                        <div class="space-y-3">
                            <label class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Día de
                                la Semana</label>
                            <div class="flex p-1.5 bg-black/40 rounded-2xl border border-white/10 shadow-inner">
                                <button type="button" data-day="1"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all peer-checked:bg-gold peer-checked:text-primary-dark">L</button>
                                <button type="button" data-day="2"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">M</button>
                                <button type="button" data-day="3"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">X</button>
                                <button type="button" data-day="4"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">J</button>
                                <button type="button" data-day="5"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">V</button>
                                <button type="button" data-day="6"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">S</button>
                                <button type="button" data-day="7"
                                    class="day-selector flex-1 py-3 rounded-xl text-[10px] font-black text-white/40 hover:text-gold transition-all">D</button>
                            </div>
                            <input type="hidden" id="schedule-day" name="dia_semana" required>
                        </div>

                        <!-- Hours -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Hora
                                    Inicio</label>
                                <input type="time" id="schedule-start" name="hora_inicio" required
                                    class="w-full bg-black/40 border border-white/10 rounded-2xl px-5 py-4 text-xs text-white focus:border-gold outline-none transition-all shadow-inner">
                            </div>
                            <div class="space-y-2">
                                <label class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Hora
                                    Fin</label>
                                <input type="time" id="schedule-end" name="hora_fin" required
                                    class="w-full bg-black/40 border border-white/10 rounded-2xl px-5 py-4 text-xs text-white focus:border-gold outline-none transition-all shadow-inner">
                            </div>
                        </div>

                        <!-- Aula -->
                        <div class="space-y-2">
                            <label class="text-[10px] font-black text-white/30 uppercase tracking-[0.2em] ml-2">Aula /
                                Ubicación</label>
                            <div class="relative">
                                <span
                                    class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-white/20 text-lg">meeting_room</span>
                                <input type="text" id="schedule-aula" name="aula" placeholder="Ej: Aula C-401"
                                    class="w-full bg-black/40 border border-white/10 rounded-2xl pl-12 pr-5 py-4 text-xs text-white focus:border-gold outline-none transition-all shadow-inner placeholder:text-white/10">
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="pt-10 flex flex-col gap-3">
                        <button type="submit" id="btn-save-schedule"
                            class="w-full bg-gold text-primary-dark font-black py-4 rounded-2xl uppercase text-[10px] tracking-[0.2em] hover:bg-white hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl shadow-gold/10 flex items-center justify-center gap-3">
                            <span class="material-symbols-outlined text-lg">check_circle</span>
                            Confirmar Asignación
                        </button>
                        <button type="button" id="btn-delete-schedule"
                            class="hidden w-full bg-red-500/10 text-red-400 font-bold py-4 rounded-2xl uppercase text-[10px] tracking-widest hover:bg-red-500 hover:text-white transition-all">
                            Eliminar Registro
                        </button>
                    </div>
                </form>
            </div>
        </aside>
    </div>
</div>